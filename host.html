<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³‘ì› í‚¤ì˜¤ìŠ¤í¬ ì—°ìŠµ - ì‹œë‹ˆì•„ì´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        a{color: inherit; text-decoration: none;}
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .kiosk-container {
            background: #2c3e50;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 100%;
        }

        .kiosk-screen {
            background: white;
            border-radius: 20px;
            padding: 30px;
            min-height: 650px;
            position: relative;
            overflow: hidden;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f0f0f0;
        }

        .logo {
            font-size: 2.5em;
            color: #2c5aa0;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .hospital-name {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 10px;
        }

        .step-indicator {
            background: rgba(44, 90, 160, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            color: #2c5aa0;
            font-weight: bold;
            display: inline-block;
        }

        .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 4px;
            background: #2c5aa0;
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .screen-content {
            text-align: center;
            margin-bottom: 30px;
        }

        .screen-title {
            font-size: 2.2em;
            color: #333;
            margin-bottom: 15px;
        }

        .screen-subtitle {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 20px;
        }

        .help-tip {
            background: #e8f4f8;
            border: 1px solid #bee5eb;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 1.1em;
            color: #0c5460;
        }

        .help-tip strong {
            color: #062d33;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .menu-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .menu-item:hover {
            border-color: #2c5aa0;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(44, 90, 160, 0.2);
        }

        .menu-item.selected {
            border-color: #2c5aa0;
            background: rgba(44, 90, 160, 0.1);
        }

        .menu-item-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .menu-item-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .menu-item-desc {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
        }

        .input-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .input-label {
            display: block;
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .input-field {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            border-color: #2c5aa0;
            outline: none;
        }

        .card-reader {
            background: #f8f9fa;
            border: 2px dashed #2c5aa0;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
        }

        .card-icon {
            font-size: 4em;
            color: #2c5aa0;
            margin-bottom: 20px;
        }

        .card-instruction {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 10px;
        }

        .card-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .info-display {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: left;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: bold;
            color: #333;
            font-size: 1.1em;
        }

        .info-value {
            color: #2c5aa0;
            font-size: 1.1em;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .action-btn {
            padding: 18px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .btn-primary {
            background: #2c5aa0;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3f73;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
            transform: translateY(-2px);
        }

        .completion-screen {
            text-align: center;
            padding: 40px;
        }

        .completion-icon {
            font-size: 5em;
            color: #28a745;
            margin-bottom: 20px;
        }

        .completion-message {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
        }

        .receipt-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(44, 90, 160, 0.1);
            border-radius: 15px;
        }

        .appointment-info {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .appointment-time {
            font-size: 1.8em;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .waiting-info {
            font-size: 1.2em;
            color: #666;
            line-height: 1.5;
        }

        .hidden {
            display: none;
        }

        .department-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .department-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .department-item:hover {
            border-color: #2c5aa0;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(44, 90, 160, 0.2);
        }

        .department-item.selected {
            border-color: #2c5aa0;
            background: rgba(44, 90, 160, 0.1);
        }

        .department-name {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }

        @media (max-width: 768px) {
            .kiosk-container {
                padding: 20px;
            }

            .menu-grid, .department-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .action-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .info-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="kiosk-container">
        <div class="kiosk-screen">
            <div class="progress-bar" id="progressBar"></div>
            
            <!-- ì‹œì‘ í™”ë©´ -->
            <div id="startScreen" class="screen">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="hospital-name">Seoul National University Hospital</div>
                    <div class="step-indicator">1/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ë³‘ì› í‚¤ì˜¤ìŠ¤í¬ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h2>
                    <p class="screen-subtitle">ì§„ë£Œ ì ‘ìˆ˜ë¥¼ ì‹œì‘í•˜ì‹œë ¤ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</p>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ê±´ê°•ë³´í—˜ì¹´ë“œë¥¼ ë¯¸ë¦¬ ì¤€ë¹„í•´ì£¼ì„¸ìš”. ì´ˆì§„ì˜ ê²½ìš° ì‹ ë¶„ì¦ë„ í•¨ê»˜ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-primary" onclick="nextStep()">ì§„ë£Œ ì ‘ìˆ˜ ì‹œì‘</button>
                </div>
            </div>

            <!-- í™˜ì êµ¬ë¶„ í™”ë©´ -->
            <div id="patientTypeScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">2/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">í™˜ì êµ¬ë¶„ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì²˜ìŒ ì˜¤ì‹œëŠ” ë¶„ì€ 'ì´ˆì§„', ì´ì „ì— ì§„ë£Œ ë°›ìœ¼ì‹  ë¶„ì€ 'ì¬ì§„'ì„ ì„ íƒí•˜ì„¸ìš”.
                    </div>
                    <div class="menu-grid">
                        <div class="menu-item" onclick="selectPatientType('new')">
                            <div class="menu-item-icon">ğŸ†•</div>
                            <div class="menu-item-name">ì´ˆì§„</div>
                            <div class="menu-item-desc">ì²˜ìŒ ë‚´ì›í•˜ì‹œëŠ” í™˜ì</div>
                        </div>
                        <div class="menu-item" onclick="selectPatientType('return')">
                            <div class="menu-item-icon">ğŸ”„</div>
                            <div class="menu-item-name">ì¬ì§„</div>
                            <div class="menu-item-desc">ì´ì „ì— ì§„ë£Œ ë°›ìœ¼ì‹  í™˜ì</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê±´ê°•ë³´í—˜ì¹´ë“œ ì¸ì‹ í™”ë©´ -->
            <div id="cardScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">3/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ê±´ê°•ë³´í—˜ì¹´ë“œë¥¼ ë„£ì–´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ê±´ê°•ë³´í—˜ì¹´ë“œë¥¼ ì¹´ë“œ ë¦¬ë”ê¸°ì— ë„£ì–´ì£¼ì„¸ìš”. ì¹´ë“œì˜ ë°©í–¥ì„ í™•ì¸í•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="card-reader card-animation">
                        <div class="card-icon">ğŸ’³</div>
                        <div class="card-instruction">ì¹´ë“œë¥¼ ë„£ì–´ì£¼ì„¸ìš”</div>
                        <div style="font-size: 1em; color: #666; margin-top: 10px;">
                            â†“ ì¹´ë“œ ì‚½ì…êµ¬ â†“
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                    <button class="action-btn btn-success" onclick="simulateCardRead()">ì¹´ë“œ ì¸ì‹ ì™„ë£Œ</button>
                </div>
            </div>

            <!-- ê°œì¸ì •ë³´ ì…ë ¥ í™”ë©´ -->
            <div id="infoScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">4/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ê°œì¸ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì •í™•í•œ ê°œì¸ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ì—°ë½ì²˜ëŠ” ì§„ë£Œ ê´€ë ¨ ì—°ë½ì„ ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                    <div class="input-group">
                        <label class="input-label">ì„±ëª…</label>
                        <input type="text" class="input-field" id="patientName" placeholder="í™ê¸¸ë™">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ìƒë…„ì›”ì¼</label>
                        <input type="text" class="input-field" id="birthDate" placeholder="1950-01-01">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ì—°ë½ì²˜</label>
                        <input type="tel" class="input-field" id="phoneNumber" placeholder="010-1234-5678">
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                    <button class="action-btn btn-primary" onclick="nextStep()">ë‹¤ìŒ</button>
                </div>
            </div>

            <!-- ì§„ë£Œê³¼ ì„ íƒ í™”ë©´ -->
            <div id="departmentScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">5/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ì§„ë£Œê³¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì¦ìƒì— ë§ëŠ” ì§„ë£Œê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”. ì˜ ëª¨ë¥´ì‹œê² ë‹¤ë©´ ë‚´ê³¼ë¥¼ ì„ íƒí•˜ì‹œê±°ë‚˜ ì•ˆë‚´ë°ìŠ¤í¬ì— ë¬¸ì˜í•˜ì„¸ìš”.
                    </div>
                    <div class="department-grid">
                        <div class="department-item" onclick="selectDepartment('ë‚´ê³¼')">
                            <div class="department-name">ë‚´ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì™¸ê³¼')">
                            <div class="department-name">ì™¸ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì •í˜•ì™¸ê³¼')">
                            <div class="department-name">ì •í˜•ì™¸ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì‚°ë¶€ì¸ê³¼')">
                            <div class="department-name">ì‚°ë¶€ì¸ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì†Œì•„ê³¼')">
                            <div class="department-name">ì†Œì•„ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì•ˆê³¼')">
                            <div class="department-name">ì•ˆê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì´ë¹„ì¸í›„ê³¼')">
                            <div class="department-name">ì´ë¹„ì¸í›„ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('í”¼ë¶€ê³¼')">
                            <div class="department-name">í”¼ë¶€ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì‹ ê²½ê³¼')">
                            <div class="department-name">ì‹ ê²½ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ë¹„ë‡¨ì˜í•™ê³¼')">
                            <div class="department-name">ë¹„ë‡¨ì˜í•™ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ê°€ì •ì˜í•™ê³¼')">
                            <div class="department-name">ê°€ì •ì˜í•™ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì‘ê¸‰ì˜í•™ê³¼')">
                            <div class="department-name">ì‘ê¸‰ì˜í•™ê³¼</div>
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                </div>
            </div>

            <!-- ì ‘ìˆ˜ í™•ì¸ í™”ë©´ -->
            <div id="confirmScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">6/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ì ‘ìˆ˜ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì ‘ìˆ˜ ì •ë³´ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ì‹  í›„ ì ‘ìˆ˜ë¥¼ ì™„ë£Œí•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="info-display">
                        <div class="info-row">
                            <span class="info-label">í™˜ìëª…</span>
                            <span class="info-value" id="confirmName">í™ê¸¸ë™</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">í™˜ì êµ¬ë¶„</span>
                            <span class="info-value" id="confirmType">ì¬ì§„</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ì§„ë£Œê³¼</span>
                            <span class="info-value" id="confirmDepartment">ë‚´ê³¼</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ì ‘ìˆ˜ì¼ì‹œ</span>
                            <span class="info-value" id="confirmDate">2025-07-04 14:30</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ì§„ë£Œë¹„</span>
                            <span class="info-value">15,000ì›</span>
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                    <button class="action-btn btn-primary" onclick="nextStep()">ì ‘ìˆ˜ ì™„ë£Œ</button>
                </div>
            </div>

            <!-- ì ‘ìˆ˜ ì™„ë£Œ í™”ë©´ -->
            <div id="completionScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                </div>
                <div class="completion-screen">
                    <div class="completion-icon">âœ…</div>
                    <h2 class="completion-message">ì ‘ìˆ˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    <div class="receipt-number" id="receiptNumber">ì ‘ìˆ˜ë²ˆí˜¸: A-123</div>
                    <div class="appointment-info">
                        <div class="appointment-time">ì˜ˆìƒ ì§„ë£Œ ì‹œê°„: 15:30</div>
                        <div class="waiting-info">
                            í˜„ì¬ ëŒ€ê¸° ì¸ì›: 5ëª…<br>
                            ì˜ˆìƒ ëŒ€ê¸° ì‹œê°„: ì•½ 40ë¶„<br><br>
                            ì§„ë£Œ ìˆœì„œê°€ ë˜ë©´ ë³‘ì› ë‚´ ì•ˆë‚´ë°©ì†¡ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.<br>
                            ì ‘ìˆ˜ë²ˆí˜¸ë¥¼ ìŠì§€ ë§ˆì„¸ìš”!
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" onclick="restartPractice()">ë‹¤ì‹œ ì—°ìŠµí•˜ê¸°</button>
                        <button class="action-btn btn-secondary" onclick="goHome()">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let maxSteps = 7;
        let patientType = '';
        let selectedDepartment = '';
        let patientInfo = {};

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            const progress = (currentStep / maxSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // ë‹¤ìŒ ë‹¨ê³„
        function nextStep() {
            if (currentStep < maxSteps) {
                hideAllScreens();
                currentStep++;
                showCurrentScreen();
                updateProgress();
            }
        }

        // ì´ì „ ë‹¨ê³„
        function goBack() {
            if (currentStep > 1) {
                hideAllScreens();
                currentStep--;
                showCurrentScreen();
                updateProgress();
            }
        }

        // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
        function hideAllScreens() {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => screen.classList.add('hidden'));
        }

        // í˜„ì¬ í™”ë©´ í‘œì‹œ
        function showCurrentScreen() {
            const screenMap = {
                1: 'startScreen',
                2: 'patientTypeScreen',
                3: 'cardScreen',
                4: 'infoScreen',
                5: 'departmentScreen',
                6: 'confirmScreen',
                7: 'completionScreen'
            };
            
            const screenId = screenMap[currentStep];
            if (screenId) {
                document.getElementById(screenId).classList.remove('hidden');
                
                // í™•ì¸ í™”ë©´ì¼ ë•Œ ì •ë³´ ì—…ë°ì´íŠ¸
                if (screenId === 'confirmScreen') {
                    updateConfirmation();
                }
            }
        }

        // í™˜ì êµ¬ë¶„ ì„ íƒ
        function selectPatientType(type) {
            patientType = type;
            
            // ì„ íƒ í‘œì‹œ
            const items = document.querySelectorAll('.menu-item');
            items.forEach(item => item.classList.remove('selected'));
            event.target.closest('.menu-item').classList.add('selected');
            
            setTimeout(() => {
                nextStep();
            }, 500);
        }

        // ì¹´ë“œ ì¸ì‹ ì‹œë®¬ë ˆì´ì…˜
        function simulateCardRead() {
            const cardReader = document.querySelector('.card-reader');
            cardReader.innerHTML = `
                <div class="card-icon">âœ…</div>
                <div class="card-instruction">ì¹´ë“œ ì¸ì‹ ì™„ë£Œ</div>
                <div style="font-size: 1em; color: #28a745; margin-top: 10px;">
                    ê±´ê°•ë³´í—˜ ì ìš© í™•ì¸ë¨
                </div>
            `;
            
            setTimeout(() => {
                nextStep();
            }, 1500);
        }

        // ì§„ë£Œê³¼ ì„ íƒ
        function selectDepartment(dept) {
            selectedDepartment = dept;
            
            // ì„ íƒ í‘œì‹œ
            const deptItems = document.querySelectorAll('.department-item');
            deptItems.forEach(item => item.classList.remove('selected'));
            event.target.closest('.department-item').classList.add('selected');
            
            setTimeout(() => {
                nextStep();
            }, 500);
        }

        // í™•ì¸ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateConfirmation() {
            const name = document.getElementById('patientName').value || 'í™ê¸¸ë™';
            const birthDate = document.getElementById('birthDate').value || '1950-01-01';
            const phone = document.getElementById('phoneNumber').value || '010-1234-5678';
            
            document.getElementById('confirmName').textContent = name;
            document.getElementById('confirmType').textContent = patientType === 'new' ? 'ì´ˆì§„' : 'ì¬ì§„';
            document.getElementById('confirmDepartment').textContent = selectedDepartment;
            
            const now = new Date();
            const dateStr = now.getFullYear() + '-' + 
                          String(now.getMonth() + 1).padStart(2, '0') + '-' + 
                          String(now.getDate()).padStart(2, '0') + ' ' +
                          String(now.getHours()).padStart(2, '0') + ':' + 
                          String(now.getMinutes()).padStart(2, '0');
            document.getElementById('confirmDate').textContent = dateStr;
            
            // ì ‘ìˆ˜ ì™„ë£Œ ì‹œ ì‚¬ìš©í•  ì ‘ìˆ˜ë²ˆí˜¸ ìƒì„±
            const receiptNum = 'A-' + String(Math.floor(Math.random() * 900) + 100);
            document.getElementById('receiptNumber').textContent = 'ì ‘ìˆ˜ë²ˆí˜¸: ' + receiptNum;
        }

        // ì—°ìŠµ ë‹¤ì‹œ ì‹œì‘
        function restartPractice() {
            currentStep = 1;
            patientType = '';
            selectedDepartment = '';
            patientInfo = {};
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('patientName').value = '';
            document.getElementById('birthDate').value = '';
            document.getElementById('phoneNumber').value = '';
            
            hideAllScreens();
            document.getElementById('startScreen').classList.remove('hidden');
            updateProgress();
        }

        // í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function goHome() {
            window.history.back();
        }

        // ì´ˆê¸° ì„¤ì •
        updateProgress();
    </script>
</body>
</html>