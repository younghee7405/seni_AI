<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³‘ì› í‚¤ì˜¤ìŠ¤í¬ ì—°ìŠµ - ì‹œë‹ˆì•„ì´</title>
    <link rel="stylesheet" href="./css/host.css">
   
</head>
<body>
    <div class="kiosk-container">
        <div class="kiosk-screen">
            <div class="progress-bar" id="progressBar"></div>
            
            <!-- ì‹œì‘ í™”ë©´ -->
            <div id="startScreen" class="screen">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="hospital-name">Seoul National University Hospital</div>
                    <div class="step-indicator">1/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ë³‘ì› í‚¤ì˜¤ìŠ¤í¬ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</h2>
                    <p class="screen-subtitle">ì§„ë£Œ ì ‘ìˆ˜ë¥¼ ì‹œì‘í•˜ì‹œë ¤ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</p>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ê±´ê°•ë³´í—˜ì¹´ë“œë¥¼ ë¯¸ë¦¬ ì¤€ë¹„í•´ì£¼ì„¸ìš”. ì´ˆì§„ì˜ ê²½ìš° ì‹ ë¶„ì¦ë„ í•¨ê»˜ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-primary" onclick="nextStep()">ì§„ë£Œ ì ‘ìˆ˜ ì‹œì‘</button>
                </div>
            </div>

            <!-- í™˜ì êµ¬ë¶„ í™”ë©´ -->
            <div id="patientTypeScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">2/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">í™˜ì êµ¬ë¶„ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì²˜ìŒ ì˜¤ì‹œëŠ” ë¶„ì€ 'ì´ˆì§„', ì´ì „ì— ì§„ë£Œ ë°›ìœ¼ì‹  ë¶„ì€ 'ì¬ì§„'ì„ ì„ íƒí•˜ì„¸ìš”.
                    </div>
                    <div class="menu-grid">
                        <div class="menu-item" onclick="selectPatientType('new')">
                            <div class="menu-item-icon">ğŸ†•</div>
                            <div class="menu-item-name">ì´ˆì§„</div>
                            <div class="menu-item-desc">ì²˜ìŒ ë‚´ì›í•˜ì‹œëŠ” í™˜ì</div>
                        </div>
                        <div class="menu-item" onclick="selectPatientType('return')">
                            <div class="menu-item-icon">ğŸ”„</div>
                            <div class="menu-item-name">ì¬ì§„</div>
                            <div class="menu-item-desc">ì´ì „ì— ì§„ë£Œ ë°›ìœ¼ì‹  í™˜ì</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê±´ê°•ë³´í—˜ì¹´ë“œ ì¸ì‹ í™”ë©´ -->
            <div id="cardScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">3/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ê±´ê°•ë³´í—˜ì¹´ë“œë¥¼ ë„£ì–´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ê±´ê°•ë³´í—˜ì¹´ë“œë¥¼ ì¹´ë“œ ë¦¬ë”ê¸°ì— ë„£ì–´ì£¼ì„¸ìš”. ì¹´ë“œì˜ ë°©í–¥ì„ í™•ì¸í•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="card-reader card-animation">
                        <div class="card-icon">ğŸ’³</div>
                        <div class="card-instruction">ì¹´ë“œë¥¼ ë„£ì–´ì£¼ì„¸ìš”</div>
                        <div style="font-size: 1em; color: #666; margin-top: 10px;">
                            â†“ ì¹´ë“œ ì‚½ì…êµ¬ â†“
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                    <button class="action-btn btn-success" onclick="simulateCardRead()">ì¹´ë“œ ì¸ì‹ ì™„ë£Œ</button>
                </div>
            </div>

            <!-- ê°œì¸ì •ë³´ ì…ë ¥ í™”ë©´ -->
            <div id="infoScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">4/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ê°œì¸ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì •í™•í•œ ê°œì¸ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ì—°ë½ì²˜ëŠ” ì§„ë£Œ ê´€ë ¨ ì—°ë½ì„ ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                    <div class="input-group">
                        <label class="input-label">ì„±ëª…</label>
                        <input type="text" class="input-field" id="patientName" placeholder="í™ê¸¸ë™">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ìƒë…„ì›”ì¼</label>
                        <input type="text" class="input-field" id="birthDate" placeholder="1950-01-01">
                    </div>
                    <div class="input-group">
                        <label class="input-label">ì—°ë½ì²˜</label>
                        <input type="tel" class="input-field" id="phoneNumber" placeholder="010-1234-5678">
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                    <button class="action-btn btn-primary" onclick="nextStep()">ë‹¤ìŒ</button>
                </div>
            </div>

            <!-- ì§„ë£Œê³¼ ì„ íƒ í™”ë©´ -->
            <div id="departmentScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">5/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ì§„ë£Œê³¼ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì¦ìƒì— ë§ëŠ” ì§„ë£Œê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”. ì˜ ëª¨ë¥´ì‹œê² ë‹¤ë©´ ë‚´ê³¼ë¥¼ ì„ íƒí•˜ì‹œê±°ë‚˜ ì•ˆë‚´ë°ìŠ¤í¬ì— ë¬¸ì˜í•˜ì„¸ìš”.
                    </div>
                    <div class="department-grid">
                        <div class="department-item" onclick="selectDepartment('ë‚´ê³¼')">
                            <div class="department-name">ë‚´ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì™¸ê³¼')">
                            <div class="department-name">ì™¸ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì •í˜•ì™¸ê³¼')">
                            <div class="department-name">ì •í˜•ì™¸ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì‚°ë¶€ì¸ê³¼')">
                            <div class="department-name">ì‚°ë¶€ì¸ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì†Œì•„ê³¼')">
                            <div class="department-name">ì†Œì•„ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì•ˆê³¼')">
                            <div class="department-name">ì•ˆê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì´ë¹„ì¸í›„ê³¼')">
                            <div class="department-name">ì´ë¹„ì¸í›„ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('í”¼ë¶€ê³¼')">
                            <div class="department-name">í”¼ë¶€ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì‹ ê²½ê³¼')">
                            <div class="department-name">ì‹ ê²½ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ë¹„ë‡¨ì˜í•™ê³¼')">
                            <div class="department-name">ë¹„ë‡¨ì˜í•™ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ê°€ì •ì˜í•™ê³¼')">
                            <div class="department-name">ê°€ì •ì˜í•™ê³¼</div>
                        </div>
                        <div class="department-item" onclick="selectDepartment('ì‘ê¸‰ì˜í•™ê³¼')">
                            <div class="department-name">ì‘ê¸‰ì˜í•™ê³¼</div>
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                </div>
            </div>

            <!-- ì ‘ìˆ˜ í™•ì¸ í™”ë©´ -->
            <div id="confirmScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                    <div class="step-indicator">6/7 ë‹¨ê³„</div>
                </div>
                <div class="screen-content">
                    <h2 class="screen-title">ì ‘ìˆ˜ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”</h2>
                    <div class="help-tip">
                        <strong>ğŸ’¡ ë„ì›€ë§:</strong> ì ‘ìˆ˜ ì •ë³´ê°€ ì •í™•í•œì§€ í™•ì¸í•˜ì‹  í›„ ì ‘ìˆ˜ë¥¼ ì™„ë£Œí•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="info-display">
                        <div class="info-row">
                            <span class="info-label">í™˜ìëª…</span>
                            <span class="info-value" id="confirmName">í™ê¸¸ë™</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">í™˜ì êµ¬ë¶„</span>
                            <span class="info-value" id="confirmType">ì¬ì§„</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ì§„ë£Œê³¼</span>
                            <span class="info-value" id="confirmDepartment">ë‚´ê³¼</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ì ‘ìˆ˜ì¼ì‹œ</span>
                            <span class="info-value" id="confirmDate">2025-07-04 14:30</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ì§„ë£Œë¹„</span>
                            <span class="info-value">15,000ì›</span>
                        </div>
                    </div>
                </div>
                <div class="action-buttons">
                    <button class="action-btn btn-secondary" onclick="goBack()">ì´ì „</button>
                    <button class="action-btn btn-primary" onclick="nextStep()">ì ‘ìˆ˜ ì™„ë£Œ</button>
                </div>
            </div>

            <!-- ì ‘ìˆ˜ ì™„ë£Œ í™”ë©´ -->
            <div id="completionScreen" class="screen hidden">
                <div class="header">
                    <div class="logo">ğŸ¥ ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
                </div>
                <div class="completion-screen">
                    <div class="completion-icon">âœ…</div>
                    <h2 class="completion-message">ì ‘ìˆ˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    <div class="receipt-number" id="receiptNumber">ì ‘ìˆ˜ë²ˆí˜¸: A-123</div>
                    <div class="appointment-info">
                        <div class="appointment-time">ì˜ˆìƒ ì§„ë£Œ ì‹œê°„: 15:30</div>
                        <div class="waiting-info">
                            í˜„ì¬ ëŒ€ê¸° ì¸ì›: 5ëª…<br>
                            ì˜ˆìƒ ëŒ€ê¸° ì‹œê°„: ì•½ 40ë¶„<br><br>
                            ì§„ë£Œ ìˆœì„œê°€ ë˜ë©´ ë³‘ì› ë‚´ ì•ˆë‚´ë°©ì†¡ìœ¼ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.<br>
                            ì ‘ìˆ˜ë²ˆí˜¸ë¥¼ ìŠì§€ ë§ˆì„¸ìš”!
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" onclick="restartPractice()">ë‹¤ì‹œ ì—°ìŠµí•˜ê¸°</button>
                        <button class="action-btn btn-secondary" onclick="goHome()">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let maxSteps = 7;
        let patientType = '';
        let selectedDepartment = '';
        let patientInfo = {};

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            const progress = (currentStep / maxSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // ë‹¤ìŒ ë‹¨ê³„
        function nextStep() {
            if (currentStep < maxSteps) {
                hideAllScreens();
                currentStep++;
                showCurrentScreen();
                updateProgress();
            }
        }

        // ì´ì „ ë‹¨ê³„
        function goBack() {
            if (currentStep > 1) {
                hideAllScreens();
                currentStep--;
                showCurrentScreen();
                updateProgress();
            }
        }

        // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
        function hideAllScreens() {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => screen.classList.add('hidden'));
        }

        // í˜„ì¬ í™”ë©´ í‘œì‹œ
        function showCurrentScreen() {
            const screenMap = {
                1: 'startScreen',
                2: 'patientTypeScreen',
                3: 'cardScreen',
                4: 'infoScreen',
                5: 'departmentScreen',
                6: 'confirmScreen',
                7: 'completionScreen'
            };
            
            const screenId = screenMap[currentStep];
            if (screenId) {
                document.getElementById(screenId).classList.remove('hidden');
                
                // í™•ì¸ í™”ë©´ì¼ ë•Œ ì •ë³´ ì—…ë°ì´íŠ¸
                if (screenId === 'confirmScreen') {
                    updateConfirmation();
                }
            }
        }

        // í™˜ì êµ¬ë¶„ ì„ íƒ
        function selectPatientType(type) {
            patientType = type;
            
            // ì„ íƒ í‘œì‹œ
            const items = document.querySelectorAll('.menu-item');
            items.forEach(item => item.classList.remove('selected'));
            event.target.closest('.menu-item').classList.add('selected');
            
            setTimeout(() => {
                nextStep();
            }, 500);
        }

        // ì¹´ë“œ ì¸ì‹ ì‹œë®¬ë ˆì´ì…˜
        function simulateCardRead() {
            const cardReader = document.querySelector('.card-reader');
            cardReader.innerHTML = `
                <div class="card-icon">âœ…</div>
                <div class="card-instruction">ì¹´ë“œ ì¸ì‹ ì™„ë£Œ</div>
                <div style="font-size: 1em; color: #28a745; margin-top: 10px;">
                    ê±´ê°•ë³´í—˜ ì ìš© í™•ì¸ë¨
                </div>
            `;
            
            setTimeout(() => {
                nextStep();
            }, 1500);
        }

        // ì§„ë£Œê³¼ ì„ íƒ
        function selectDepartment(dept) {
            selectedDepartment = dept;
            
            // ì„ íƒ í‘œì‹œ
            const deptItems = document.querySelectorAll('.department-item');
            deptItems.forEach(item => item.classList.remove('selected'));
            event.target.closest('.department-item').classList.add('selected');
            
            setTimeout(() => {
                nextStep();
            }, 500);
        }

        // í™•ì¸ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateConfirmation() {
            const name = document.getElementById('patientName').value || 'í™ê¸¸ë™';
            const birthDate = document.getElementById('birthDate').value || '1950-01-01';
            const phone = document.getElementById('phoneNumber').value || '010-1234-5678';
            
            document.getElementById('confirmName').textContent = name;
            document.getElementById('confirmType').textContent = patientType === 'new' ? 'ì´ˆì§„' : 'ì¬ì§„';
            document.getElementById('confirmDepartment').textContent = selectedDepartment;
            
            const now = new Date();
            const dateStr = now.getFullYear() + '-' + 
                          String(now.getMonth() + 1).padStart(2, '0') + '-' + 
                          String(now.getDate()).padStart(2, '0') + ' ' +
                          String(now.getHours()).padStart(2, '0') + ':' + 
                          String(now.getMinutes()).padStart(2, '0');
            document.getElementById('confirmDate').textContent = dateStr;
            
            // ì ‘ìˆ˜ ì™„ë£Œ ì‹œ ì‚¬ìš©í•  ì ‘ìˆ˜ë²ˆí˜¸ ìƒì„±
            const receiptNum = 'A-' + String(Math.floor(Math.random() * 900) + 100);
            document.getElementById('receiptNumber').textContent = 'ì ‘ìˆ˜ë²ˆí˜¸: ' + receiptNum;
        }

        // ì—°ìŠµ ë‹¤ì‹œ ì‹œì‘
        function restartPractice() {
            currentStep = 1;
            patientType = '';
            selectedDepartment = '';
            patientInfo = {};
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('patientName').value = '';
            document.getElementById('birthDate').value = '';
            document.getElementById('phoneNumber').value = '';
            
            hideAllScreens();
            document.getElementById('startScreen').classList.remove('hidden');
            updateProgress();
        }

        // í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function goHome() {
            window.history.back();
        }

        // ì´ˆê¸° ì„¤ì •
        updateProgress();
    </script>
</body>
</html>